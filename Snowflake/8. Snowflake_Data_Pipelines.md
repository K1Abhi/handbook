
# Snowflake Data Pipelines

## Scenario 1: Real-Time Table Syncing via Change Data Capture (CDC)

### Use Case
- A `customers` table is owned by an external department.
- Need to maintain an up-to-date copy in our Snowflake database.
- Sync should reflect all changes in **near real-time**.

### Solution Overview
- Use **Change Data Capture (CDC)** to handle incremental updates.

### Methods for Implementing CDC in Snowflake
1. **MERGE Statement**
   - SQL command to upsert records into a target table.
2. **Change Tracking**
   - Allows tracking changes on a table without capturing the actual data.
3. **Streams and Tasks**
   - Earlier method to automate CDC workflows.
4. **Dynamic Tables**
   - New and simplified approach to manage incremental data changes.

---

## Scenario 2: Automated CSV Ingestion via Snowpipe

### Use Case
- New employee records are added using CSV files dropped into an **Amazon S3 bucket**.
- Only insertions are allowed (no updates or deletions).

### Solution Overview
- Use **Snowpipe** to automate CSV ingestion.

### Components Involved
- **External Stage**: Connects Snowflake to the S3 bucket.
- **Snowpipe**: Automates continuous data loading from S3 into Snowflake.

---

## Summary

| Requirement                       | Solution                             |
|-----------------------------------|--------------------------------------|
| Sync external table in real-time  | Change Data Capture (CDC)            |
| Handle inserts via CSV in S3      | Snowpipe + External Stage (S3)       |

> These approaches help build robust, scalable, and near real-time data pipelines in Snowflake.
